{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\castr\\\\Documents\\\\GitHub\\\\radioorientefm\\\\frontend\\\\src\\\\pages\\\\reproductor.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Play, Pause, Volume2, VolumeX } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Reproductor = () => {\n  _s();\n  const audioRef = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [volume, setVolume] = useState(1);\n  const [streamUrl, setStreamUrl] = useState(null);\n\n  // Traer URL desde backend\n  useEffect(() => {\n    fetch(\"/api/radio/station/\") // tu endpoint en Django\n    .then(res => res.json()).then(data => {\n      setStreamUrl(data.stream_url);\n      if (!audioRef.current) {\n        audioRef.current = new Audio(data.stream_url);\n        audioRef.current.volume = volume;\n      }\n    }).catch(err => console.error(\"Error al cargar stream:\", err));\n  }, []);\n\n  // Cambiar volumen\n  useEffect(() => {\n    if (audioRef.current) audioRef.current.volume = volume;\n  }, [volume]);\n\n  // Play/pause\n  const togglePlay = () => {\n    if (!audioRef.current) return;\n    if (isPlaying) {\n      audioRef.current.pause();\n      setIsPlaying(false);\n    } else {\n      audioRef.current.play().catch(console.error);\n      setIsPlaying(true);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-screen w-screen flex flex-col items-center justify-center relative bg-gradient-to-br from-blue-600 to-indigo-900 overflow-hidden text-white\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-[url('/images/fondo-agua.jpg')] bg-cover bg-center opacity-30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"z-10 flex flex-col items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/logo.png\",\n        alt: \"Radio Oriente\",\n        className: \"w-64 h-64 rounded-2xl shadow-2xl object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-6 mt-8\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: togglePlay,\n          className: \"w-20 h-20 rounded-full bg-white text-blue-600 flex items-center justify-center shadow-lg hover:scale-105 transition\",\n          disabled: !streamUrl,\n          children: isPlaying ? /*#__PURE__*/_jsxDEV(Pause, {\n            size: 40\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 26\n          }, this) : /*#__PURE__*/_jsxDEV(Play, {\n            size: 40\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 flex items-center gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setVolume(volume > 0 ? 0 : 1),\n          children: volume === 0 ? /*#__PURE__*/_jsxDEV(VolumeX, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(Volume2, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"0\",\n          max: \"1\",\n          step: \"0.01\",\n          value: volume,\n          onChange: e => setVolume(Number(e.target.value)),\n          className: \"w-48\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(Reproductor, \"dY2sukkAI3sBbcvYYpoml1Nxiao=\");\n_c = Reproductor;\nexport default Reproductor;\nvar _c;\n$RefreshReg$(_c, \"Reproductor\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Play","Pause","Volume2","VolumeX","jsxDEV","_jsxDEV","Reproductor","_s","audioRef","isPlaying","setIsPlaying","volume","setVolume","streamUrl","setStreamUrl","fetch","then","res","json","data","stream_url","current","Audio","catch","err","console","error","togglePlay","pause","play","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","disabled","size","type","min","max","step","value","onChange","e","Number","target","_c","$RefreshReg$"],"sources":["C:/Users/castr/Documents/GitHub/radioorientefm/frontend/src/pages/reproductor.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport { Play, Pause, Volume2, VolumeX } from \"lucide-react\";\r\n\r\nconst Reproductor = () => {\r\n  const audioRef = useRef(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [volume, setVolume] = useState(1);\r\n  const [streamUrl, setStreamUrl] = useState(null);\r\n\r\n  // Traer URL desde backend\r\n  useEffect(() => {\r\n    fetch(\"/api/radio/station/\") // tu endpoint en Django\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        setStreamUrl(data.stream_url);\r\n        if (!audioRef.current) {\r\n          audioRef.current = new Audio(data.stream_url);\r\n          audioRef.current.volume = volume;\r\n        }\r\n      })\r\n      .catch(err => console.error(\"Error al cargar stream:\", err));\r\n  }, []);\r\n\r\n  // Cambiar volumen\r\n  useEffect(() => {\r\n    if (audioRef.current) audioRef.current.volume = volume;\r\n  }, [volume]);\r\n\r\n  // Play/pause\r\n  const togglePlay = () => {\r\n    if (!audioRef.current) return;\r\n    if (isPlaying) {\r\n      audioRef.current.pause();\r\n      setIsPlaying(false);\r\n    } else {\r\n      audioRef.current.play().catch(console.error);\r\n      setIsPlaying(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"h-screen w-screen flex flex-col items-center justify-center relative bg-gradient-to-br from-blue-600 to-indigo-900 overflow-hidden text-white\">\r\n\r\n      {/* Fondo con textura o imagen */}\r\n      <div className=\"absolute inset-0 bg-[url('/images/fondo-agua.jpg')] bg-cover bg-center opacity-30\"></div>\r\n\r\n      {/* Portada */}\r\n      <div className=\"z-10 flex flex-col items-center\">\r\n        <img\r\n          src=\"/images/logo.png\"\r\n          alt=\"Radio Oriente\"\r\n          className=\"w-64 h-64 rounded-2xl shadow-2xl object-cover\"\r\n        />\r\n\r\n        {/* Bot√≥n Play/Pause */}\r\n        <div className=\"flex items-center gap-6 mt-8\">\r\n          <button\r\n            onClick={togglePlay}\r\n            className=\"w-20 h-20 rounded-full bg-white text-blue-600 flex items-center justify-center shadow-lg hover:scale-105 transition\"\r\n            disabled={!streamUrl}\r\n          >\r\n            {isPlaying ? <Pause size={40}/> : <Play size={40}/>}\r\n          </button>\r\n        </div>\r\n\r\n        {/* Volumen */}\r\n        <div className=\"mt-6 flex items-center gap-4\">\r\n          <button onClick={() => setVolume(volume > 0 ? 0 : 1)}>\r\n            {volume === 0 ? <VolumeX size={24}/> : <Volume2 size={24}/>}\r\n          </button>\r\n          <input\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"1\"\r\n            step=\"0.01\"\r\n            value={volume}\r\n            onChange={(e) => setVolume(Number(e.target.value))}\r\n            className=\"w-48\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reproductor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}